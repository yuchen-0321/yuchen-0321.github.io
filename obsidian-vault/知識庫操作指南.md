
**網站網址**: https://yuchen-0321.github.io  
**專案位置**: `~/Documents/my-knowledge-base`

## 一、日常筆記管理

### 1.1 新增筆記

```bash
# 方法一：直接在 Obsidian 中建立
open -a Obsidian ~/Documents/my-knowledge-base/obsidian-vault

# 方法二：使用命令列快速建立
cd ~/Documents/my-knowledge-base
cat > "obsidian-vault/02-永久筆記/新筆記標題.md" << 'EOF'
---
title: "新筆記標題"
date: 2025-01-20
tags: ["標籤1", "標籤2"]
categories: ["分類"]
---

# 新筆記標題

內容寫在這裡...
EOF
```

### 1.2 組織筆記結構

```
obsidian-vault/
├── 01-每日筆記/     # 每日記錄（不會同步到網站）
├── 02-永久筆記/     # 會發布的正式筆記
├── 03-專案/         # 專案相關文件
├── 04-參考資料/     # 參考文件
└── 99-附件/         # 圖片、模板等
```

## 二、發布網站

### 2.1 快速發布（推薦）

```bash
# 建立快捷腳本（只需執行一次）
cd ~/Documents/my-knowledge-base
cat > publish.sh << 'EOF'
#!/bin/bash
echo "🔄 同步筆記..."
python3 scripts/sync_obsidian_to_hugo.py

echo "📦 提交變更..."
git add .
git commit -m "Update: $(date '+%Y-%m-%d %H:%M')"

echo "⬆️ 推送到 GitHub..."
git push

echo "✅ 完成！網站將在 2-3 分鐘後更新"
echo "🌐 查看進度: https://github.com/yuchen-0321/yuchen-0321.github.io/actions"
EOF

chmod +x publish.sh

# 使用方式
./publish.sh
```

### 2.2 手動發布步驟

```bash
# 1. 進入專案目錄
cd ~/Documents/my-knowledge-base

# 2. 同步 Obsidian 筆記到 Hugo
python3 scripts/sync_obsidian_to_hugo.py

# 3. 提交並推送
git add .
git commit -m "更新內容"
git push
```

## 三、本地預覽

### 3.1 預覽網站

```bash
# 建立預覽腳本（只需執行一次）
cd ~/Documents/my-knowledge-base
cat > preview.sh << 'EOF'
#!/bin/bash
echo "🔄 同步筆記..."
python3 scripts/sync_obsidian_to_hugo.py

echo "🌐 啟動本地伺服器..."
cd hugo-site
hugo server -D
EOF

chmod +x preview.sh

# 使用方式
./preview.sh
# 然後開啟瀏覽器訪問 http://localhost:1313
```

### 3.2 停止預覽

按 `Ctrl + C` 停止伺服器

## 四、常用命令別名設定

將以下內容加入 `~/.zshrc` 檔案（只需設定一次）：

```bash
echo '
# 知識庫快捷命令
alias kb="cd ~/Documents/my-knowledge-base"
alias kb-edit="open -a Obsidian ~/Documents/my-knowledge-base/obsidian-vault"
alias kb-sync="cd ~/Documents/my-knowledge-base && python3 scripts/sync_obsidian_to_hugo.py"
alias kb-preview="cd ~/Documents/my-knowledge-base && ./preview.sh"
alias kb-publish="cd ~/Documents/my-knowledge-base && ./publish.sh"
alias kb-status="cd ~/Documents/my-knowledge-base && git status"
' >> ~/.zshrc

source ~/.zshrc
```

### 使用快捷命令：

- `kb` - 進入專案目錄
- `kb-edit` - 開啟 Obsidian 編輯
- `kb-sync` - 同步筆記
- `kb-preview` - 本地預覽
- `kb-publish` - 發布到網站
- `kb-status` - 查看 Git 狀態

## 五、查看網站狀態

### 5.1 檢查部署狀態

```bash
# 查看 GitHub Actions 執行狀態
open https://github.com/yuchen-0321/yuchen-0321.github.io/actions

# 訪問網站
open https://yuchen-0321.github.io
```

### 5.2 查看本地變更

```bash
cd ~/Documents/my-knowledge-base
git status      # 查看變更檔案
git diff        # 查看具體變更內容
```

## 六、故障排除

### 問題 1：同步腳本報錯

```bash
# 檢查 Python 套件
pip3 list | grep -E "yaml|frontmatter"

# 重新安裝套件
pip3 install --upgrade pyyaml python-frontmatter
```

### 問題 2：網站沒有更新

```bash
# 1. 檢查 Actions 狀態
open https://github.com/yuchen-0321/yuchen-0321.github.io/actions

# 2. 手動觸發部署
cd ~/Documents/my-knowledge-base
git commit --allow-empty -m "Trigger rebuild"
git push
```

### 問題 3：本地預覽失敗

```bash
# 檢查 Hugo 版本
hugo version

# 更新 Hugo
brew upgrade hugo
```

## 七、進階優化

### 7.1 添加圖片

1. 將圖片放入 `obsidian-vault/99-附件/images/`
2. 在筆記中使用：`![[圖片名稱.png]]`
3. 同步腳本會自動處理圖片路徑

### 7.2 修改網站設定

編輯 `hugo-site/config.yml` 檔案：

```yaml
title: "我的知識庫"    # 網站標題
author: "Yu Chen"      # 作者名稱
description: "..."     # 網站描述
```

### 7.3 備份資料

```bash
# 建立備份
cd ~/Documents
tar -czf my-knowledge-base-backup-$(date +%Y%m%d).tar.gz my-knowledge-base/

# 還原備份
tar -xzf my-knowledge-base-backup-YYYYMMDD.tar.gz
```

## 八、建議的工作流程

### 每日例行
1. 開啟 Obsidian 編輯筆記
2. 完成編輯後執行 `kb-publish` 或 `./publish.sh`

### 每週例行
1. 整理標籤和分類
2. 刪除不需要的筆記
3. 備份重要資料

### 每月例行
1. 更新 Hugo 和主題
2. 檢視網站分析數據
3. 優化網站設定

## 九、快速參考

| 任務 | 命令 |
|------|------|
| 編輯筆記 | `kb-edit` 或開啟 Obsidian |
| 本地預覽 | `kb-preview` 或 `./preview.sh` |
| 發布網站 | `kb-publish` 或 `./publish.sh` |
| 查看網站 | `open https://yuchen-0321.github.io` |
| 查看狀態 | `kb-status` |
| 進入專案 | `kb` |

## 十、小技巧

1. **使用 Obsidian 模板**：在 99-附件/templates 建立模板，快速建立格式化筆記
2. **批量處理**：可以一次建立多個筆記，然後統一發布
3. **版本控制**：善用 Git 的版本功能，可以隨時回溯變更
4. **定期清理**：定期刪除 01-每日筆記 中的舊筆記，保持整潔

## 需要協助？

如遇到問題：

1. 先查看 GitHub Actions 日誌
2. 檢查本地 Git 狀態
3. 確認網路連線正常
4. 重新執行同步腳本